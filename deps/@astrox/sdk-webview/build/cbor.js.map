{"version":3,"sources":["../../src/cbor.ts"],"sourcesContent":["\nimport { CborEncoder, CborValue, SelfDescribeCborSerializer, value } from 'simple-cbor';\nimport { Principal } from '@dfinity/principal';\n\nclass PrincipalEncoder implements CborEncoder<Principal> {\n  public get name() {\n    return 'Principal';\n  }\n\n  public get priority() {\n    return 0;\n  }\n\n  public match(value: any): boolean {\n    return value && value._isPrincipal === true;\n  }\n\n  public encode(v: Principal): CborValue {\n    return value.bytes(v.toUint8Array());\n  }\n}\n\nconst serializer = SelfDescribeCborSerializer.withDefaultEncoders(true);\nserializer.addEncoder(new PrincipalEncoder());\n"],"names":["SelfDescribeCborSerializer","value","PrincipalEncoder","name","priority","match","_isPrincipal","encode","v","bytes","toUint8Array","serializer","withDefaultEncoders","addEncoder"],"mappings":";;;;;;;;;;;;;;;;;;;AACA,SAAiCA,0BAA0B,EAAEC,KAAK,QAAQ,cAAc;AAGxF,IAAA,AAAMC,iCAAN;;aAAMA;gCAAAA;;kBAAAA;;YACOC,KAAAA;iBAAX;gBACE,OAAO;YACT;;;YAEWC,KAAAA;iBAAX;gBACE,OAAO;YACT;;;YAEOC,KAAAA;mBAAP,SAAOA,MAAMJ,KAAU;gBACrB,OAAOA,SAASA,MAAMK,YAAY,KAAK;YACzC;;;YAEOC,KAAAA;mBAAP,SAAOA,OAAOC,CAAY;gBACxB,OAAOP,MAAMQ,KAAK,CAACD,EAAEE,YAAY;YACnC;;;WAfIR;;AAkBN,IAAMS,aAAaX,2BAA2BY,mBAAmB,CAAC;AAClED,WAAWE,UAAU,CAAC,IAAIX"}